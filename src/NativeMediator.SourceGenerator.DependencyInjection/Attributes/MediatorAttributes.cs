namespace NativeMediator.SourceGenerator.DependencyInjection.Attributes;

/// <summary>
/// Contains the source code for the MediatorHandler attribute.
/// </summary>
internal static class MediatorAttributes
{
    public const string MediatorHandlerAttributeSource = """
        // <auto-generated />
        #nullable enable

        namespace NativeMediator.SourceGenerator.DependencyInjection
        {
            /// <summary>
            /// Marks a class as a mediator request handler for AOT-compatible registration.
            /// </summary>
            [global::System.AttributeUsage(global::System.AttributeTargets.Class, AllowMultiple = false, Inherited = false)]
            [global::System.Diagnostics.Conditional("NATIVE_MEDIATOR_GENERATOR")]
            internal sealed class MediatorHandlerAttribute : global::System.Attribute
            {
                /// <summary>
                /// Gets or sets the service lifetime. Default is Scoped.
                /// </summary>
                public ServiceLifetime Lifetime { get; set; } = ServiceLifetime.Scoped;

                /// <summary>
                /// Gets or sets the registration group name for grouped extensions.
                /// </summary>
                public string? Group { get; set; }
            }

            /// <summary>
            /// Specifies the service lifetime for mediator handlers.
            /// </summary>
            internal enum ServiceLifetime
            {
                Singleton = 0,
                Scoped = 1,
                Transient = 2
            }
        }
        """;
}
